# vim: syntax=zsh

export set DLDIR="$DESKTOP/pendyt"
export set YTDL="yout"
export set TERMBACKGROUND=light
echo $COLORTERM | grep xfce4-terminal 2>&1 > /dev/null && export set TERMBACKGROUND=dark

export set DESKTOPSESSIONNAME=worksess
export set WORKMAILDIR="$HOME/Mail/PivotAccess"
export set DFTMAILDIR="$HOME/Mail/Default"
# export set EMBWORKDIR="$HACKS/fulcrum-pos"
export set EMBWORKDIR="$HACKS/workspace/poc"
export set WEBWORKDIR="$HACKS/fulcrum-backend"
export set MAINWORKDIR=$EMBWORKDIR
export set HIDSERVICE="$HACKS/sundry/egrapha.p6m"

alias yout='youloader --pause=60'

mailbox_setup_routine()
{
  tmux split-window                 -t 'Desktop.1' -p 50
  tmux split-window                 -t 'Desktop.1' -p 50
  tmux split-window -c $WEBWORKDIR  -t 'Desktop.2' -p 50
  tmux split-window -c $HIDSERVICE  -t 'Desktop.4' -p 50
  tmux split-window -c $WEBWORKDIR  -t 'Desktop.5' -p 60 -h
  tmux send-keys                    -t 'Desktop.1' "mutt -f $WORKMAILDIR/INBOX" C-m
  tmux send-keys                    -t 'Desktop.2' 'w3m http://google.com/' C-m
  tmux send-keys                    -t 'Desktop.3' "mutt -f $DFTMAILDIR/Inbox" C-m
  # tmux send-keys                    -t 'Desktop.4' 'rails s' C-m
  tmux send-keys                    -t 'Desktop.4' 'bundle install' C-m 'rake db:migrate' C-m "rails s" C-m
  tmux send-keys                    -t 'Desktop.5' "./egrapha.pl6 --scgi-port=9002 --bible-table=bible --translation=lug --static=static --templates=templates --max-random-verses=30 --appname=Rhema server" C-m
  tmux send-keys                    -t 'Desktop.6' "tail -f /var/log/nginx/access.log" C-m
}

newsreader_setup_routine()
{
  tmux send-keys C-l 'BitchX' C-m
  tmux split-window -c $1 -t 'Desktop.0' -p 75
  tmux send-keys -t 'Desktop.6' C-l 'vi -S .ide.vim' C-m
  tmux set-environment EDITOR_PANE    6
  tmux split-window -c $1 -t 'Desktop.6' -h -p 25
  tmux send-keys -t 'Desktop.7' C-l "screen $QUARK_TTY_DEVICE $QUARK_TTY_BAUDRT" C-m
  tmux split-window -c $1 -t 'Desktop.7' -p 50
  tmux send-keys -t 'Desktop.8' C-l "$OPENOCD_TOOL -s $OPENOCD_WDIR -f $OPENOCD_CONF" C-m
  tmux split-window -c $1 -t 'Desktop.8' -p 50
  tmux send-keys -t 'Desktop.9' C-l 'await_oocd() { ( sleep 5 && ps aux | grep -v grep | grep openocd ) || ( sleep 5 && await_oocd ) } ; await_oocd || ( sleep 5 && await_oocd ) ; telnet localhost 4444' C-m
  tmux split-window -c $1 -t 'Desktop.10' -h -p 40
  tmux set-environment DEBUGGER_PANE  9
  tmux send-keys -t 'Desktop.10' C-l 'make test' C-m
  tmux set-environment COMPILER_PANE  10
  tmux set-environment COMPILE_COMMAND  "make test"
}

workdirectories_routine()
{
  # echo "$HACKS/fulcrum-backend"
  # echo $EMBWORKDIR
  # echo "$HACKS/pivot-embedded"
  # echo "$HACKS/x1000"
  # echo "$HACKS/sundry/egrapha.p6m"
  # echo "$HACKS/workspace/poc"
}
